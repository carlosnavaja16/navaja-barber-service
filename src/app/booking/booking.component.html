<div
  class="container d-flex flex-column justify-content-center align-items-center"
>
  <h3 class="text-center mb-3">Choose a date</h3>
  <mat-vertical-stepper
    [linear]="true"
    #stepper
    class="booking-stepper"
    *ngIf="availability$ | async as availability"
  >
    <mat-step label="Select a service">
      <mat-form-field class="w-100 mt-3">
        <mat-select>
          <mat-option
            *ngFor="let service of services$ | async as services"
            [value]="services[0]"
            (onSelectionChange)="stepper.selectedIndex = 1"
          >
            <b>{{ service["name"] }}</b> Â·
            <small>${{ service["price"] }}</small>
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-step>
    <mat-step label="Select a date">
      <mat-card class="inline-calendar-card mt-3 mb-3">
        <mat-calendar
          #calendar
          [dateFilter]="filter"
          [minDate]="availability.minDate"
          [maxDate]="availability.maxDate"
          (selectedChange)="getTimeSlotsByDate($event)"
        ></mat-calendar>
        <button
          mat-button
          *ngFor="
            let currDateTimeSlot of currDateTimeSlots$ | async as as;
            currDateTimeSlots
          "
        >
          {{
            currDateTimeSlot.start.getHours() +
              ":" +
              currDateTimeSlot.start.getMinutes()
          }}
        </button>
      </mat-card>
      <div>
        <button mat-button matStepperNext>Next</button>
      </div>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Done</ng-template>
      You are now done.
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button (click)="stepper.reset()">Reset</button>
      </div>
    </mat-step>
  </mat-vertical-stepper>
</div>
