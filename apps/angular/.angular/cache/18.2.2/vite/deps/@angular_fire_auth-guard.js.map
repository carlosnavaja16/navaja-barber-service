{
  "version": 3,
  "sources": ["../../../../../../../node_modules/@angular/fire/fesm2022/angular-fire-auth-guard.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport * as i2 from '@angular/fire/auth';\nimport { user } from '@angular/fire/auth';\nimport * as i1 from '@angular/router';\nimport { of, pipe } from 'rxjs';\nimport { map, take, switchMap } from 'rxjs/operators';\nimport { VERSION } from '@angular/fire';\nimport { registerVersion } from 'firebase/app';\nconst loggedIn = map(user => !!user);\nclass AuthGuard {\n  router;\n  auth;\n  constructor(router, auth) {\n    this.router = router;\n    this.auth = auth;\n  }\n  canActivate = (next, state) => {\n    const authPipeFactory = next.data.authGuardPipe || (() => loggedIn);\n    return user(this.auth).pipe(take(1), authPipeFactory(next, state), map(can => {\n      if (typeof can === 'boolean') {\n        return can;\n      } else if (Array.isArray(can)) {\n        return this.router.createUrlTree(can);\n      } else {\n        // TODO(EdricChan03): Add tests\n        return this.router.parseUrl(can);\n      }\n    }));\n  };\n  static ɵfac = function AuthGuard_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || AuthGuard)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.Auth));\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: AuthGuard,\n    factory: AuthGuard.ɵfac,\n    providedIn: 'any'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AuthGuard, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'any'\n    }]\n  }], () => [{\n    type: i1.Router\n  }, {\n    type: i2.Auth\n  }], null);\n})();\nconst canActivate = pipe => ({\n  canActivate: [AuthGuard],\n  data: {\n    authGuardPipe: pipe\n  }\n});\nconst isNotAnonymous = map(user => !!user && !user.isAnonymous);\nconst idTokenResult = switchMap(user => user ? user.getIdTokenResult() : of(null));\nconst emailVerified = map(user => !!user && user.emailVerified);\nconst customClaims = pipe(idTokenResult, map(idTokenResult => idTokenResult ? idTokenResult.claims : []));\nconst hasCustomClaim =\n// eslint-disable-next-line no-prototype-builtins\nclaim => pipe(customClaims, map(claims => claims.hasOwnProperty(claim)));\nconst redirectUnauthorizedTo = redirect => pipe(loggedIn, map(loggedIn => loggedIn || redirect));\nconst redirectLoggedInTo = redirect => pipe(loggedIn, map(loggedIn => loggedIn && redirect || true));\nclass AuthGuardModule {\n  constructor() {\n    registerVersion('angularfire', VERSION.full, 'auth-guard');\n  }\n  static ɵfac = function AuthGuardModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || AuthGuardModule)();\n  };\n  static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AuthGuardModule\n  });\n  static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [AuthGuard]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AuthGuardModule, [{\n    type: NgModule,\n    args: [{\n      providers: [AuthGuard]\n    }]\n  }], () => [], null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AuthGuard, AuthGuardModule, canActivate, customClaims, emailVerified, hasCustomClaim, idTokenResult, isNotAnonymous, loggedIn, redirectLoggedInTo, redirectUnauthorizedTo };\n"],
  "mappings": "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",
  "names": ["user", "pipe", "idTokenResult", "loggedIn"]
}
